-- 建立使用者表格 (users)
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 新增使用者資料
INSERT INTO users (username, password) VALUES ('TEST1', '123');
INSERT INTO users (username, password) VALUES ('TEST', '123');
INSERT INTO users (username, password) VALUES ('TEST2', '123');

-- 查詢所有使用者資料
SELECT * FROM users;

-- 刪除指定使用者資料（條件寫法修正）
DELETE FROM users WHERE username = 'TEST1' AND password = '123';


-- 建立卡片UID紀錄表 (USER_CORD)
CREATE TABLE USER_CORD (
    id INT PRIMARY KEY AUTO_INCREMENT,
    CORD_NUMBER VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 新增卡片UID
INSERT INTO USER_CORD (CORD_NUMBER) VALUES ('TEST1');

-- 刪除指定卡片UID資料（語法修正）
DELETE FROM USER_CORD WHERE CORD_NUMBER = 'TEST1';

-- 查詢所有卡片UID
SELECT * FROM USER_CORD;


-- 建立進出紀錄表 (AccessRecords)
CREATE TABLE AccessRecords (
    RecordID INT AUTO_INCREMENT PRIMARY KEY,            -- 紀錄唯一ID，自動遞增
    VisitorName VARCHAR(100) NULL,                       -- 姓名，允許NULL（未登記訪客）
    UID VARCHAR(50) NOT NULL,                            -- 卡片UID，必填
    AccessTime DATETIME NOT NULL,                         -- 進出時間，必填
    AccessType VARCHAR(50) NOT NULL DEFAULT '刷卡',      -- 類型，預設為刷卡
    Status VARCHAR(50) NOT NULL DEFAULT '正常'           -- 狀態，預設正常
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 新增進出紀錄資料
INSERT INTO AccessRecords (VisitorName, UID, AccessTime, AccessType, Status)
VALUES ('王小明', 'A123456789', NOW(), '刷卡', '正常');

-- 查詢所有進出紀錄
SELECT * FROM AccessRecords;
